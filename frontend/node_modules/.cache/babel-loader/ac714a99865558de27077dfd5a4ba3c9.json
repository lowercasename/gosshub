{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from \"wouter\";\nimport axios from 'axios';\nimport Message from './components/message';\n\nvar Login = function Login() {\n  var _useLocation = useLocation(),\n      _useLocation2 = _slicedToArray(_useLocation, 2),\n      location = _useLocation2[0],\n      setLocation = _useLocation2[1];\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errorText = _useState6[0],\n      setErrorText = _useState6[1];\n\n  var dispatch = useDispatch();\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    axios.post('http://127.0.0.1:5000/login', {\n      username: username,\n      password: password\n    }).then(function (response) {\n      if (response.data.token) {\n        dispatch({\n          type: 'jwt/set',\n          payload: response.data.token\n        });\n        setLocation(\"/\");\n      }\n    })[\"catch\"](function (error) {\n      setErrorText(error.response.data.message);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", null, \"Log in\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(Message, {\n    text: errorText\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: function onChange(e) {\n      return setUsername(e.target.value);\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Log in\"\n  })));\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}