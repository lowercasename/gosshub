{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'wouter';\nimport { apiCall } from './util';\n\nvar ProtectedRoute = function ProtectedRoute(_ref) {\n  var children = _ref.children,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedIn = _useState2[0],\n      setLoggedIn = _useState2[1];\n\n  useEffect(function () {\n    apiCall('/user', true).then(function (_) {\n      setLoggedIn(true);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Route, rest, loggedIn ? children : /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\"\n  }));\n};\n\nexport default ProtectedRoute;","map":null,"metadata":{},"sourceType":"module"}