{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from \"wouter\";\nimport axios from 'axios';\nimport Message from './components/message';\nimport Document from './components/document';\n\nvar Home = function Home() {\n  var _useLocation = useLocation(),\n      _useLocation2 = _slicedToArray(_useLocation, 2),\n      location = _useLocation2[0],\n      setLocation = _useLocation2[1];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      documents = _useState2[0],\n      setDocuments = _useState2[1];\n\n  var jwt = useSelector(function (state) {\n    return state.jwt;\n  });\n  useEffect(function () {\n    // On mount\n    axios.get('http://127.0.0.1:5000/document', {\n      headers: {\n        'Authorization': \"Bearer \".concat(jwt)\n      }\n    }).then(function (response) {\n      console.log(response.data);\n      setDocuments(response.data);\n    })[\"catch\"](function (error) {\n      var _error$response;\n\n      if ((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) setLocation(\"/login\");\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, documents.map(function (document) {\n    return /*#__PURE__*/React.createElement(Document, {\n      key: document.uuid,\n      document: document\n    });\n  }));\n};\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}